<!DOCTYPE html>  
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>06_callback함수.html</title>
        <script src="jquery-3.6.1.min.js"></script>
        <style>
            table {
                text-align: center;
            }
        </style>
    </head>
    <body>        
        <button>* JSON 데이터 받아오기 *</button>
        <div id="panel"></div>

        <script>
            $("button").click(function(){
               // $.getJSON(url, callback함수) JSON 데이터를 가져온다.
               $.getJSON("sungjuks.json", responseProc);
            }) // click end

            function responseProc(result, status, xhr){ // callback 함수
                // alert(result);  // 서버가 응답해준 객체 형태의 메세지
                // alert(status);  // 응답 상황
                // alert(xhr);     // XMLHttpRequest 객체
                $("#panel").empty();
                let str = "<table border='1'>";
                $.each(result, function(idx, data){
                    // alert(idx);     // 요소 순서
                    // alert(data);    // 각 배열의 요소값
                    str += "<tr>";
                    str += "    <td>" + data.name + "</td>";
                    str += "    <td>" + data.id + "</td>";
                    str += "    <td>" + data.kor + "</td>";
                    str += "    <td>" + data.eng + "</td>";
                    str += "    <td>" + data.mat + "</td>";
                    str += "</tr>"
                }); // each end
                str += "</table>"
                $("#panel").append(str);
            } // responseProc() end
            
        </script>

    </body>
</html>